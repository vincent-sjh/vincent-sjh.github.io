<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="A Try on Reverse Engineering Vincent’s Technical Reports (Vol. 1)" /><meta name="author" content="宋建昊" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="一次有趣的逆向工程经历" /><meta property="og:description" content="一次有趣的逆向工程经历" /><link rel="canonical" href="https://vincent-sjh.github.io/homepage/index.html/posts/Reverse_Engineering/" /><meta property="og:url" content="https://vincent-sjh.github.io/homepage/index.html/posts/Reverse_Engineering/" /><meta property="og:site_name" content="宋建昊" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-05-27T16:30:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="A Try on Reverse Engineering Vincent’s Technical Reports (Vol. 1)" /><meta name="twitter:site" content="@si57311" /><meta name="twitter:creator" content="@宋建昊" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"宋建昊"},"dateModified":"2025-08-12T08:47:35+00:00","datePublished":"2025-05-27T16:30:00+00:00","description":"一次有趣的逆向工程经历","headline":"A Try on Reverse Engineering Vincent’s Technical Reports (Vol. 1)","mainEntityOfPage":{"@type":"WebPage","@id":"https://vincent-sjh.github.io/homepage/index.html/posts/Reverse_Engineering/"},"url":"https://vincent-sjh.github.io/homepage/index.html/posts/Reverse_Engineering/"}</script><title>A Try on Reverse Engineering | Vincent's Technical Reports (Vol. 1) | 宋建昊</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="宋建昊"><meta name="application-name" content="宋建昊"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/config/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">宋建昊</a></div><div class="site-subtitle font-italic">We paint the world with our colors and everyone will know.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/vincent-sjh" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/si57311" aria-label="twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['songjh22','mails.tsinghua.edu.cn'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>A Try on Reverse Engineering | Vincent's Technical Reports (Vol. 1)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>A Try on Reverse Engineering | Vincent's Technical Reports (Vol. 1)</h1><div class="post-meta text-muted"> <span> 发表于 <em class="" data-ts="1748363400" data-df="YYYY/MM/DD" data-toggle="tooltip" data-placement="bottom"> 2025/05/27 </em> </span> <span> 更新于 <em class="" data-ts="1754988455" data-df="YYYY/MM/DD" data-toggle="tooltip" data-placement="bottom"> 2025/08/12 </em> </span><div class="d-flex justify-content-between"> <span> 作者 <em> <a href=""></a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5601 字"> <em>31 分钟</em>阅读</span></div></div></div><div class="post-content"><h1 id="一次有趣的逆向工程经历">一次有趣的逆向工程经历</h1><h2 id="前因"><span class="mr-2">前因</span><a href="#前因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>在五道口技术学院某抽象院系的某课程的一次作业中，出现了有趣的情况。</p><p>作业要求监测某可执行文件运行过程中的数据，再用数据推测得到助教提前设置好的两个信息。</p><p>提供给同学们下载的是编译好的可执行文件，而不是源代码，不然可以直接阅读源码获得答案。</p><p>同时，这个可执行文件运行需要一个参数，助教规定每个同学将参数设置为自己的学号。</p><p>这是为了保证同学们的答案不全相同来防止抄袭，但也可以推测出正确答案是输入参数的某个函数。</p><h2 id="使用objdump进行反汇编"><span class="mr-2">使用objdump进行反汇编</span><a href="#使用objdump进行反汇编" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>// <span class="nt">-d</span> 选项指示 objdump 对目标文件中包含可执行代码的节（section）进行反汇编
// 将机器码转换为对应架构的汇编指令。 
// <span class="nt">-C</span> 选项用于解析编译器对符号名进行的名称修饰（name mangling）
// 将修饰后的符号名转换为原始可读的函数名，如 foo<span class="o">(</span>int, int<span class="o">)</span>/lipsum<span class="o">()</span>
objdump <span class="nt">-d</span> <span class="nt">-C</span> ./main
</pre></table></code></div></div><p>执行命令后得到本次所关注的<code class="language-plaintext highlighter-rouge">lipsum()</code>函数和<code class="language-plaintext highlighter-rouge">main</code>函数。</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
</pre><td class="rouge-code"><pre>0000000000001150 &lt;main&gt;:
    1150:       41 54                   push   %r12
    1152:       55                      push   %rbp
    1153:       48 83 ec 18             sub    $0x18,%rsp
    1157:       89 7c 24 0c             mov    %edi,0xc(%rsp)
    115b:       48 8d 7c 24 0c          lea    0xc(%rsp),%rdi
    1160:       48 89 34 24             mov    %rsi,(%rsp)
    1164:       48 89 e6                mov    %rsp,%rsi
    1167:       e8 94 ff ff ff          call   1100 &lt;MPI_Init@plt&gt;
    116c:       48 8d 35 91 5e d4 41    lea    0x41d45e91(%rip),%rsi        # 41d47004 &lt;mpiSize&gt;
    1173:       bf 00 00 00 44          mov    $0x44000000,%edi
    1178:       e8 33 ff ff ff          call   10b0 &lt;MPI_Comm_size@plt&gt;
    117d:       48 8d 35 84 5e d4 41    lea    0x41d45e84(%rip),%rsi        # 41d47008 &lt;mpiRank&gt;
    1184:       bf 00 00 00 44          mov    $0x44000000,%edi
    1189:       e8 62 ff ff ff          call   10f0 &lt;MPI_Comm_rank@plt&gt;
    118e:       83 3d 6f 5e d4 41 08    cmpl   $0x8,0x41d45e6f(%rip)        # 41d47004 &lt;mpiSize&gt;
    1195:       0f 85 83 01 00 00       jne    131e &lt;main+0x1ce&gt;
    119b:       83 7c 24 0c 02          cmpl   $0x2,0xc(%rsp)
    11a0:       0f 85 56 01 00 00       jne    12fc &lt;main+0x1ac&gt;
    11a6:       48 8b 04 24             mov    (%rsp),%rax
    11aa:       31 f6                   xor    %esi,%esi
    11ac:       ba 0a 00 00 00          mov    $0xa,%edx
    11b1:       48 8b 78 08             mov    0x8(%rax),%rdi
    11b5:       e8 26 ff ff ff          call   10e0 &lt;strtol@plt&gt;
    11ba:       89 05 40 5e d4 41       mov    %eax,0x41d45e40(%rip)        # 41d47000 &lt;id&gt;
    11c0:       48 89 c1                mov    %rax,%rcx
    11c3:       89 c6                   mov    %eax,%esi
    11c5:       85 c0                   test   %eax,%eax
    11c7:       0f 88 39 01 00 00       js     1306 &lt;main+0x1b6&gt;
    11cd:       49 b8 e5 8f a2 12 31    movabs $0x89705f3112a28fe5,%r8
    11d4:       5f 70 89 
    11d7:       bf 0a 00 00 00          mov    $0xa,%edi
    11dc:       0f 1f 40 00             nopl   0x0(%rax)
    11e0:       48 63 f6                movslq %esi,%rsi
    11e3:       48 63 c9                movslq %ecx,%rcx
    11e6:       48 69 f6 17 27 00 00    imul   $0x2717,%rsi,%rsi
    11ed:       48 69 c9 17 27 00 00    imul   $0x2717,%rcx,%rcx
    11f4:       48 83 c6 07             add    $0x7,%rsi
    11f8:       48 89 f0                mov    %rsi,%rax
    11fb:       48 83 c1 09             add    $0x9,%rcx
    11ff:       49 f7 e0                mul    %r8
    1202:       48 83 f1 01             xor    $0x1,%rcx
    1206:       48 89 c8                mov    %rcx,%rax
    1209:       48 c1 ea 1d             shr    $0x1d,%rdx
    120d:       48 69 d2 07 ca 9a 3b    imul   $0x3b9aca07,%rdx,%rdx
    1214:       29 d6                   sub    %edx,%esi
    1216:       49 f7 e0                mul    %r8
    1219:       48 c1 ea 1d             shr    $0x1d,%rdx
    121d:       48 69 d2 07 ca 9a 3b    imul   $0x3b9aca07,%rdx,%rdx
    1224:       29 d1                   sub    %edx,%ecx
    1226:       83 ef 01                sub    $0x1,%edi
    1229:       75 b5                   jne    11e0 &lt;main+0x90&gt;
    122b:       83 e6 07                and    $0x7,%esi
    122e:       83 e1 01                and    $0x1,%ecx
    1231:       89 35 dd 2d 00 00       mov    %esi,0x2ddd(%rip)        # 4014 &lt;slowRank&gt;
    1237:       89 0d d3 2d 00 00       mov    %ecx,0x2dd3(%rip)        # 4010 &lt;workloadType&gt;
    123d:       e8 4e 02 00 00          call   1490 &lt;init()&gt;
    1242:       bf 00 00 00 44          mov    $0x44000000,%edi
    1247:       e8 14 fe ff ff          call   1060 &lt;MPI_Barrier@plt&gt;
    124c:       e8 bf 02 00 00          call   1510 &lt;lipsum()&gt;
    1251:       bf 00 00 00 44          mov    $0x44000000,%edi
    1256:       e8 05 fe ff ff          call   1060 &lt;MPI_Barrier@plt&gt;
    125b:       e8 10 fe ff ff          call   1070 &lt;MPI_Finalize@plt&gt;
    1260:       8b 05 a2 5d d4 41       mov    0x41d45da2(%rip),%eax        # 41d47008 &lt;mpiRank&gt;
    1266:       85 c0                   test   %eax,%eax
    1268:       74 0a                   je     1274 &lt;main+0x124&gt;
    126a:       48 83 c4 18             add    $0x18,%rsp
    126e:       31 c0                   xor    %eax,%eax
    1270:       5d                      pop    %rbp
    1271:       41 5c                   pop    %r12
    1273:       c3                      ret
    1274:       48 8d 35 c7 0d 00 00    lea    0xdc7(%rip),%rsi        # 2042 &lt;_IO_stdin_used+0x42&gt;
    127b:       48 8d 3d be 2d 00 00    lea    0x2dbe(%rip),%rdi        # 4040 &lt;std::cout@GLIBCXX_3.4&gt;
    1282:       e8 09 fe ff ff          call   1090 &lt;std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::operator&lt;&lt; &lt;std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*)@plt&gt;
    1287:       8b 35 73 5d d4 41       mov    0x41d45d73(%rip),%esi        # 41d47000 &lt;id&gt;
    128d:       48 89 c7                mov    %rax,%rdi
    1290:       e8 9b fe ff ff          call   1130 &lt;std::ostream::operator&lt;&lt;(int)@plt&gt;
    1295:       48 89 c5                mov    %rax,%rbp
    1298:       48 8b 00                mov    (%rax),%rax
    129b:       48 8b 40 e8             mov    -0x18(%rax),%rax
    129f:       4c 8b a4 05 f0 00 00    mov    0xf0(%rbp,%rax,1),%r12
    12a6:       00 
    12a7:       4d 85 e4                test   %r12,%r12
    12aa:       74 6d                   je     1319 &lt;main+0x1c9&gt;
    12ac:       41 80 7c 24 38 00       cmpb   $0x0,0x38(%r12)
    12b2:       74 1b                   je     12cf &lt;main+0x17f&gt;
    12b4:       41 0f b6 44 24 43       movzbl 0x43(%r12),%eax
    12ba:       48 89 ef                mov    %rbp,%rdi
    12bd:       0f be f0                movsbl %al,%esi
    12c0:       e8 6b fd ff ff          call   1030 &lt;std::ostream::put(char)@plt&gt;
    12c5:       48 89 c7                mov    %rax,%rdi
    12c8:       e8 83 fd ff ff          call   1050 &lt;std::ostream::flush()@plt&gt;
    12cd:       eb 9b                   jmp    126a &lt;main+0x11a&gt;
    12cf:       4c 89 e7                mov    %r12,%rdi
    12d2:       e8 c9 fd ff ff          call   10a0 &lt;std::ctype&lt;char&gt;::_M_widen_init() const@plt&gt;
    12d7:       49 8b 04 24             mov    (%r12),%rax
    12db:       48 8d 0d ce 04 00 00    lea    0x4ce(%rip),%rcx        # 17b0 &lt;std::ctype&lt;char&gt;::do_widen(char) const&gt;
    12e2:       48 8b 50 30             mov    0x30(%rax),%rdx
    12e6:       b8 0a 00 00 00          mov    $0xa,%eax
    12eb:       48 39 ca                cmp    %rcx,%rdx
    12ee:       74 ca                   je     12ba &lt;main+0x16a&gt;
    12f0:       be 0a 00 00 00          mov    $0xa,%esi
    12f5:       4c 89 e7                mov    %r12,%rdi
    12f8:       ff d2                   call   *%rdx
    12fa:       eb be                   jmp    12ba &lt;main+0x16a&gt;
    12fc:       c7 05 fa 5c d4 41 ff    movl   $0xffffffff,0x41d45cfa(%rip)        # 41d47000 &lt;id&gt;
    1303:       ff ff ff 
    1306:       83 3d fb 5c d4 41 00    cmpl   $0x0,0x41d45cfb(%rip)        # 41d47008 &lt;mpiRank&gt;
    130d:       74 34                   je     1343 &lt;main+0x1f3&gt;
    130f:       bf 01 00 00 00          mov    $0x1,%edi
    1314:       e8 a7 fd ff ff          call   10c0 &lt;exit@plt&gt;
    1319:       e8 b2 fd ff ff          call   10d0 &lt;std::__throw_bad_cast()@plt&gt;
    131e:       83 3d e3 5c d4 41 00    cmpl   $0x0,0x41d45ce3(%rip)        # 41d47008 &lt;mpiRank&gt;
    1325:       75 e8                   jne    130f &lt;main+0x1bf&gt;
    1327:       48 8b 3d 32 2e 00 00    mov    0x2e32(%rip),%rdi        # 4160 &lt;stderr@GLIBC_2.2.5&gt;
    132e:       ba 08 00 00 00          mov    $0x8,%edx
    1333:       48 8d 35 ce 0c 00 00    lea    0xcce(%rip),%rsi        # 2008 &lt;_IO_stdin_used+0x8&gt;
    133a:       31 c0                   xor    %eax,%eax
    133c:       e8 cf fd ff ff          call   1110 &lt;fprintf@plt&gt;
    1341:       eb cc                   jmp    130f &lt;main+0x1bf&gt;
    1343:       48 8b 04 24             mov    (%rsp),%rax
    1347:       48 8b 3d 12 2e 00 00    mov    0x2e12(%rip),%rdi        # 4160 &lt;stderr@GLIBC_2.2.5&gt;
    134e:       48 8d 35 d5 0c 00 00    lea    0xcd5(%rip),%rsi        # 202a &lt;_IO_stdin_used+0x2a&gt;
    1355:       48 8b 10                mov    (%rax),%rdx
    1358:       31 c0                   xor    %eax,%eax
    135a:       e8 b1 fd ff ff          call   1110 &lt;fprintf@plt&gt;
    135f:       eb ae                   jmp    130f &lt;main+0x1bf&gt;
    1361:       66 66 2e 0f 1f 84 00    data16 cs nopw 0x0(%rax,%rax,1)
    1368:       00 00 00 00 
    136c:       0f 1f 40 00             nopl   0x0(%rax)


0000000000001510 &lt;lipsum()&gt;:
    1510:       41 57                   push   %r15
    1512:       41 56                   push   %r14
    1514:       41 55                   push   %r13
    1516:       41 54                   push   %r12
    1518:       55                      push   %rbp
    1519:       53                      push   %rbx
    151a:       48 83 ec 18             sub    $0x18,%rsp
    151e:       8b 0d ec 2a 00 00       mov    0x2aec(%rip),%ecx        # 4010 &lt;workloadType&gt;
    1524:       8b 15 de 5a d4 41       mov    0x41d45ade(%rip),%edx        # 41d47008 &lt;mpiRank&gt;
    152a:       8b 05 e4 2a 00 00       mov    0x2ae4(%rip),%eax        # 4014 &lt;slowRank&gt;
    1530:       85 c9                   test   %ecx,%ecx
    1532:       0f 85 49 01 00 00       jne    1681 &lt;lipsum()+0x171&gt;
    1538:       48 63 0d c1 5a d4 41    movslq 0x41d45ac1(%rip),%rcx        # 41d47000 &lt;id&gt;
    153f:       39 c2                   cmp    %eax,%edx
    1541:       be 70 17 00 00          mov    $0x1770,%esi
    1546:       b8 b8 0b 00 00          mov    $0xbb8,%eax
    154b:       48 0f 45 f0             cmovne %rax,%rsi
    154f:       48 8d 3d ea 74 f8 0b    lea    0xbf874ea(%rip),%rdi        # bf88a40 &lt;ci&gt;
    1556:       48 ba 0b d7 a3 70 3d    movabs $0xa3d70a3d70a3d70b,%rdx
    155d:       0a d7 a3 
    1560:       bb 64 00 00 00          mov    $0x64,%ebx
    1565:       48 69 c9 17 27 00 00    imul   $0x2717,%rcx,%rcx
    156c:       4c 8d 2d 0d 6f f0 17    lea    0x17f06f0d(%rip),%r13        # 17f08480 &lt;ai&gt;
    1573:       4c 8d 3d e6 71 f4 11    lea    0x11f471e6(%rip),%r15        # 11f48760 &lt;bi&gt;
    157a:       48 89 c8                mov    %rcx,%rax
    157d:       48 f7 ea                imul   %rdx
    1580:       48 8d 04 0a             lea    (%rdx,%rcx,1),%rax
    1584:       48 89 ca                mov    %rcx,%rdx
    1587:       48 c1 fa 3f             sar    $0x3f,%rdx
    158b:       48 c1 f8 06             sar    $0x6,%rax
    158f:       48 29 d0                sub    %rdx,%rax
    1592:       48 8d 04 80             lea    (%rax,%rax,4),%rax
    1596:       48 8d 14 80             lea    (%rax,%rax,4),%rdx
    159a:       48 89 c8                mov    %rcx,%rax
    159d:       48 c1 e2 02             shl    $0x2,%rdx
    15a1:       48 29 d0                sub    %rdx,%rax
    15a4:       48 ba c3 f5 28 5c 8f    movabs $0x28f5c28f5c28f5c3,%rdx
    15ab:       c2 f5 28 
    15ae:       48 05 aa 00 00 00       add    $0xaa,%rax
    15b4:       48 0f af c6             imul   %rsi,%rax
    15b8:       48 c1 e8 03             shr    $0x3,%rax
    15bc:       48 f7 e2                mul    %rdx
    15bf:       48 89 d0                mov    %rdx,%rax
    15c2:       48 c1 e8 02             shr    $0x2,%rax
    15c6:       41 89 c6                mov    %eax,%r14d
    15c9:       48 8d 2c 85 00 00 00    lea    0x0(,%rax,4),%rbp
    15d0:       00 
    15d1:       41 89 c4                mov    %eax,%r12d
    15d4:       4d 69 f6 1f 85 eb 51    imul   $0x51eb851f,%r14,%r14
    15db:       85 c0                   test   %eax,%eax
    15dd:       b8 04 00 00 00          mov    $0x4,%eax
    15e2:       48 0f 4f c5             cmovg  %rbp,%rax
    15e6:       31 ed                   xor    %ebp,%ebp
    15e8:       48 89 44 24 08          mov    %rax,0x8(%rsp)
    15ed:       49 c1 ee 25             shr    $0x25,%r14
    15f1:       0f 1f 80 00 00 00 00    nopl   0x0(%rax)
    15f8:       48 8b 54 24 08          mov    0x8(%rsp),%rdx
    15fd:       31 f6                   xor    %esi,%esi
    15ff:       e8 3c fa ff ff          call   1040 &lt;memset@plt&gt;
    1604:       45 31 c9                xor    %r9d,%r9d
    1607:       48 89 c7                mov    %rax,%rdi
    160a:       66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)
    1610:       31 f6                   xor    %esi,%esi
    1612:       31 c9                   xor    %ecx,%ecx
    1614:       0f 1f 40 00             nopl   0x0(%rax)
    1618:       69 c3 17 27 00 00       imul   $0x2717,%ebx,%eax
    161e:       05 d5 00 00 00          add    $0xd5,%eax
    1623:       99                      cltd
    1624:       41 f7 fc                idiv   %r12d
    1627:       48 63 c2                movslq %edx,%rax
    162a:       48 63 d1                movslq %ecx,%rdx
    162d:       48 89 c3                mov    %rax,%rbx
    1630:       48 69 c0 92 13 00 00    imul   $0x1392,%rax,%rax
    1637:       48 01 d0                add    %rdx,%rax
    163a:       41 8b 54 8d 00          mov    0x0(%r13,%rcx,4),%edx
    163f:       48 83 c1 01             add    $0x1,%rcx
    1643:       41 0f af 14 87          imul   (%r15,%rax,4),%edx
    1648:       01 d6                   add    %edx,%esi
    164a:       4c 39 f1                cmp    %r14,%rcx
    164d:       75 c9                   jne    1618 &lt;lipsum()+0x108&gt;
    164f:       42 89 34 8f             mov    %esi,(%rdi,%r9,4)
    1653:       49 83 c1 01             add    $0x1,%r9
    1657:       45 39 cc                cmp    %r9d,%r12d
    165a:       7f b4                   jg     1610 &lt;lipsum()+0x100&gt;
    165c:       83 c5 01                add    $0x1,%ebp
    165f:       48 81 c7 48 4e 00 00    add    $0x4e48,%rdi
    1666:       49 81 c5 48 4e 00 00    add    $0x4e48,%r13
    166d:       44 39 e5                cmp    %r12d,%ebp
    1670:       7c 86                   jl     15f8 &lt;lipsum()+0xe8&gt;
    1672:       48 83 c4 18             add    $0x18,%rsp
    1676:       5b                      pop    %rbx
    1677:       5d                      pop    %rbp
    1678:       41 5c                   pop    %r12
    167a:       41 5d                   pop    %r13
    167c:       41 5e                   pop    %r14
    167e:       41 5f                   pop    %r15
    1680:       c3                      ret
    1681:       48 63 0d 78 59 d4 41    movslq 0x41d45978(%rip),%rcx        # 41d47000 &lt;id&gt;
    1688:       39 c2                   cmp    %eax,%edx
    168a:       be d0 07 00 00          mov    $0x7d0,%esi
    168f:       b8 e8 03 00 00          mov    $0x3e8,%eax
    1694:       48 0f 45 f0             cmovne %rax,%rsi
    1698:       48 8d 3d 01 6b ec 1d    lea    0x1dec6b01(%rip),%rdi        # 1dec81a0 &lt;cd&gt;
    169f:       48 ba 0b d7 a3 70 3d    movabs $0xa3d70a3d70a3d70b,%rdx
    16a6:       0a d7 a3 
    16a9:       48 69 c9 17 27 00 00    imul   $0x2717,%rcx,%rcx
    16b0:       48 8d 2d 29 5f dc 35    lea    0x35dc5f29(%rip),%rbp        # 35dc75e0 &lt;ad&gt;
    16b7:       48 89 c8                mov    %rcx,%rax
    16ba:       48 f7 ea                imul   %rdx
    16bd:       48 8d 04 0a             lea    (%rdx,%rcx,1),%rax
    16c1:       48 89 ca                mov    %rcx,%rdx
    16c4:       48 c1 fa 3f             sar    $0x3f,%rdx
    16c8:       48 c1 f8 06             sar    $0x6,%rax
    16cc:       48 29 d0                sub    %rdx,%rax
    16cf:       48 8d 04 80             lea    (%rax,%rax,4),%rax
    16d3:       48 8d 14 80             lea    (%rax,%rax,4),%rdx
    16d7:       48 89 c8                mov    %rcx,%rax
    16da:       48 c1 e2 02             shl    $0x2,%rdx
    16de:       48 29 d0                sub    %rdx,%rax
    16e1:       48 ba c3 f5 28 5c 8f    movabs $0x28f5c28f5c28f5c3,%rdx
    16e8:       c2 f5 28 
    16eb:       48 05 aa 00 00 00       add    $0xaa,%rax
    16f1:       48 0f af c6             imul   %rsi,%rax
    16f5:       48 c1 e8 03             shr    $0x3,%rax
    16f9:       48 f7 e2                mul    %rdx
    16fc:       48 89 d0                mov    %rdx,%rax
    16ff:       48 c1 e8 02             shr    $0x2,%rax
    1703:       85 c0                   test   %eax,%eax
    1705:       4c 8d 24 c5 00 00 00    lea    0x0(,%rax,8),%r12
    170c:       00 
    170d:       89 c3                   mov    %eax,%ebx
    170f:       b8 08 00 00 00          mov    $0x8,%eax
    1714:       4c 0f 4e e0             cmovle %rax,%r12
    1718:       45 31 ed                xor    %r13d,%r13d
    171b:       0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)
    1720:       4c 89 e2                mov    %r12,%rdx
    1723:       31 f6                   xor    %esi,%esi
    1725:       e8 16 f9 ff ff          call   1040 &lt;memset@plt&gt;
    172a:       48 8d 15 8f 64 e4 29    lea    0x29e4648f(%rip),%rdx        # 29e47bc0 &lt;bd&gt;
    1731:       31 c9                   xor    %ecx,%ecx
    1733:       66 0f ef d2             pxor   %xmm2,%xmm2
    1737:       48 89 c7                mov    %rax,%rdi
    173a:       66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)
    1740:       31 c0                   xor    %eax,%eax
    1742:       66 0f 28 ca             movapd %xmm2,%xmm1
    1746:       66 2e 0f 1f 84 00 00    cs nopw 0x0(%rax,%rax,1)
    174d:       00 00 00 
    1750:       f2 0f 10 44 c5 00       movsd  0x0(%rbp,%rax,8),%xmm0
    1756:       f2 0f 59 04 c2          mulsd  (%rdx,%rax,8),%xmm0
    175b:       48 83 c0 01             add    $0x1,%rax
    175f:       f2 0f 58 c8             addsd  %xmm0,%xmm1
    1763:       39 c3                   cmp    %eax,%ebx
    1765:       7f e9                   jg     1750 &lt;lipsum()+0x240&gt;
    1767:       f2 0f 11 0c cf          movsd  %xmm1,(%rdi,%rcx,8)
    176c:       48 83 c1 01             add    $0x1,%rcx
    1770:       48 81 c2 90 9c 00 00    add    $0x9c90,%rdx
    1777:       39 cb                   cmp    %ecx,%ebx
    1779:       7f c5                   jg     1740 &lt;lipsum()+0x230&gt;
    177b:       41 83 c5 01             add    $0x1,%r13d
    177f:       48 81 c7 90 9c 00 00    add    $0x9c90,%rdi
    1786:       48 81 c5 90 9c 00 00    add    $0x9c90,%rbp
    178d:       41 39 dd                cmp    %ebx,%r13d
    1790:       7c 8e                   jl     1720 &lt;lipsum()+0x210&gt;
    1792:       48 83 c4 18             add    $0x18,%rsp
    1796:       5b                      pop    %rbx
    1797:       5d                      pop    %rbp
    1798:       41 5c                   pop    %r12
    179a:       41 5d                   pop    %r13
    179c:       41 5e                   pop    %r14
    179e:       41 5f                   pop    %r15
    17a0:       c3                      ret
    17a1:       66 2e 0f 1f 84 00 00    cs nopw 0x0(%rax,%rax,1)
    17a8:       00 00 00 
    17ab:       0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)
</pre></table></code></div></div><h2 id="使用ghidra进行反编译"><span class="mr-2">使用Ghidra进行反编译</span><a href="#使用ghidra进行反编译" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>得到<code class="language-plaintext highlighter-rouge">lipsum()</code>函数和<code class="language-plaintext highlighter-rouge">main</code>函数的等效源代码，得出的源码可读性还比较差，我们还需要进一步处理。</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
</pre><td class="rouge-code"><pre><span class="n">undefined8</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">param_1</span><span class="p">,</span> <span class="n">undefined8</span> <span class="o">*</span><span class="n">param_2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">long</span> <span class="o">*</span><span class="n">plVar1</span><span class="p">;</span>
    <span class="n">ulong</span> <span class="n">uVar2</span><span class="p">;</span>
    <span class="n">basic_ostream</span> <span class="o">*</span><span class="n">this</span><span class="p">;</span>
    <span class="kt">long</span> <span class="o">*</span><span class="n">plVar3</span><span class="p">;</span>
    <span class="n">uint</span> <span class="n">uVar4</span><span class="p">;</span>
    <span class="n">uint</span> <span class="n">uVar5</span><span class="p">;</span>
    <span class="n">ulong</span> <span class="n">uVar6</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">iVar7</span><span class="p">;</span>
    <span class="n">undefined8</span> <span class="o">*</span><span class="n">local_28</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">local_1c</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

    <span class="n">local_28</span> <span class="o">=</span> <span class="n">param_2</span><span class="p">;</span>
    <span class="n">local_1c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">param_1</span><span class="p">;</span>
    <span class="n">MPI_Init</span><span class="p">(</span><span class="n">local_1c</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">local_28</span><span class="p">);</span>
    <span class="n">MPI_Comm_size</span><span class="p">(</span><span class="mh">0x44000000</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">mpiSize</span><span class="p">);</span>
    <span class="n">MPI_Comm_rank</span><span class="p">(</span><span class="mh">0x44000000</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">mpiSize</span> <span class="o">==</span> <span class="mi">8</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">local_1c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">uVar2</span> <span class="o">=</span> <span class="n">strtol</span><span class="p">((</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="n">local_28</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="kt">char</span> <span class="o">**</span><span class="p">)</span><span class="mh">0x0</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
            <span class="n">id</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">uVar2</span><span class="p">;</span>
            <span class="n">uVar6</span> <span class="o">=</span> <span class="n">uVar2</span> <span class="o">&amp;</span> <span class="mh">0xffffffff</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">id</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">iVar7</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
                <span class="k">do</span> <span class="p">{</span>
                    <span class="n">uVar6</span> <span class="o">=</span> <span class="p">(</span><span class="kt">long</span><span class="p">)(</span><span class="kt">int</span><span class="p">)</span><span class="n">uVar6</span> <span class="o">*</span> <span class="mh">0x2717</span> <span class="o">+</span> <span class="mi">7</span><span class="p">;</span>
                    <span class="n">uVar2</span> <span class="o">=</span> <span class="p">(</span><span class="kt">long</span><span class="p">)(</span><span class="kt">int</span><span class="p">)</span><span class="n">uVar2</span> <span class="o">*</span> <span class="mh">0x2717</span> <span class="o">+</span> <span class="mi">9U</span> <span class="o">^</span> <span class="mi">1</span><span class="p">;</span>
                    <span class="n">uVar5</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">uVar6</span> <span class="o">+</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">uVar6</span> <span class="o">/</span> <span class="mh">0x3b9aca07</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="mh">0x3b9aca07</span><span class="p">;</span>
                    <span class="n">uVar6</span> <span class="o">=</span> <span class="p">(</span><span class="n">ulong</span><span class="p">)</span><span class="n">uVar5</span><span class="p">;</span>
                    <span class="n">uVar4</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">uVar2</span> <span class="o">+</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">uVar2</span> <span class="o">/</span> <span class="mh">0x3b9aca07</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="mh">0x3b9aca07</span><span class="p">;</span>
                    <span class="n">uVar2</span> <span class="o">=</span> <span class="p">(</span><span class="n">ulong</span><span class="p">)</span><span class="n">uVar4</span><span class="p">;</span>
                    <span class="n">iVar7</span> <span class="o">=</span> <span class="n">iVar7</span> <span class="o">+</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
                <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">iVar7</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">);</span>
                <span class="n">slowRank</span> <span class="o">=</span> <span class="n">uVar5</span> <span class="o">&amp;</span> <span class="mi">7</span><span class="p">;</span>
                <span class="n">workloadType</span> <span class="o">=</span> <span class="n">uVar4</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span>
                <span class="n">init</span><span class="p">();</span>
                <span class="n">MPI_Barrier</span><span class="p">(</span><span class="mh">0x44000000</span><span class="p">);</span>
                <span class="n">lipsum</span><span class="p">();</span>
                <span class="n">MPI_Barrier</span><span class="p">(</span><span class="mh">0x44000000</span><span class="p">);</span>
                <span class="n">MPI_Finalize</span><span class="p">();</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="n">this</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">operator</span><span class="o">&lt;&lt;</span><span class="p">((</span><span class="n">basic_ostream</span> <span class="o">*</span><span class="p">)</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">,</span> <span class="s">"Sucesss "</span><span class="p">);</span>
                <span class="n">plVar3</span> <span class="o">=</span> <span class="p">(</span><span class="kt">long</span> <span class="o">*</span><span class="p">)</span><span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">char_traits</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;&gt;::</span><span class="n">operator</span><span class="o">&lt;&lt;</span>
                                 <span class="p">((</span><span class="n">basic_ostream</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">char_traits</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;&gt;</span> <span class="o">*</span><span class="p">)</span><span class="n">this</span><span class="p">,</span> <span class="n">id</span><span class="p">);</span>
                <span class="n">plVar1</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="kt">long</span> <span class="o">**</span><span class="p">)((</span><span class="kt">long</span><span class="p">)</span><span class="n">plVar3</span> <span class="o">+</span> <span class="o">*</span><span class="p">(</span><span class="kt">long</span> <span class="o">*</span><span class="p">)(</span><span class="o">*</span><span class="n">plVar3</span> <span class="o">+</span> <span class="o">-</span><span class="mh">0x18</span><span class="p">)</span> <span class="o">+</span> <span class="mh">0xf0</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">plVar1</span> <span class="o">!=</span> <span class="p">(</span><span class="kt">long</span> <span class="o">*</span><span class="p">)</span><span class="mh">0x0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">)(</span><span class="n">plVar1</span> <span class="o">+</span> <span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="sc">'\0'</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">std</span><span class="o">::</span><span class="n">ctype</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;::</span><span class="n">_M_widen_init</span><span class="p">();</span>
                        <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">code</span> <span class="o">**</span><span class="p">)(</span><span class="o">*</span><span class="n">plVar1</span> <span class="o">+</span> <span class="mh">0x30</span><span class="p">)</span> <span class="o">!=</span> <span class="n">std</span><span class="o">::</span><span class="n">ctype</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;::</span><span class="n">do_widen</span><span class="p">)</span> <span class="p">{</span>
                            <span class="p">(</span><span class="o">**</span><span class="p">(</span><span class="n">code</span> <span class="o">**</span><span class="p">)(</span><span class="o">*</span><span class="n">plVar1</span> <span class="o">+</span> <span class="mh">0x30</span><span class="p">))(</span><span class="n">plVar1</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">char_traits</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;&gt;::</span><span class="n">put</span><span class="p">((</span><span class="kt">char</span><span class="p">)</span><span class="n">plVar3</span><span class="p">);</span>
                    <span class="n">std</span><span class="o">::</span><span class="n">basic_ostream</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">char_traits</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;&gt;::</span><span class="n">flush</span><span class="p">();</span>
                    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="n">std</span><span class="o">::</span><span class="n">__throw_bad_cast</span><span class="p">();</span>
                <span class="k">goto</span> <span class="n">LAB_0010131e</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="n">id</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"Usage: %s &lt;Student ID&gt;</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="o">*</span><span class="n">local_28</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
    <span class="nl">LAB_0010131e:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"Please run with %d MPI prcoesses</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="cm">/* WARNING: Subroutine does not return */</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* WARNING: Unknown calling convention -- yet parameter storage is locked */</span>
<span class="cm">/* lipsum() */</span>
<span class="kt">void</span> <span class="nf">lipsum</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">long</span> <span class="n">lVar1</span><span class="p">;</span>
    <span class="kt">long</span> <span class="n">lVar2</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">iVar3</span><span class="p">;</span>
    <span class="n">ulong</span> <span class="n">uVar4</span><span class="p">;</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">pvVar5</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">iVar6</span><span class="p">;</span>
    <span class="n">ulong</span> <span class="n">uVar7</span><span class="p">;</span>
    <span class="kt">long</span> <span class="n">lVar8</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">iVar9</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">iVar10</span><span class="p">;</span>
    <span class="kt">long</span> <span class="n">lVar11</span><span class="p">;</span>
    <span class="n">undefined1</span> <span class="o">*</span><span class="n">puVar12</span><span class="p">;</span>
    <span class="kt">size_t</span> <span class="n">sVar13</span><span class="p">;</span>
    <span class="n">undefined1</span> <span class="o">*</span><span class="n">puVar14</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">dVar15</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">workloadType</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">lVar11</span> <span class="o">=</span> <span class="mi">6000</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">!=</span> <span class="n">slowRank</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">lVar11</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">puVar12</span> <span class="o">=</span> <span class="n">ci</span><span class="p">;</span>
        <span class="n">lVar8</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
        <span class="n">puVar14</span> <span class="o">=</span> <span class="n">ai</span><span class="p">;</span>
        <span class="n">uVar4</span> <span class="o">=</span> <span class="p">(</span><span class="n">ulong</span><span class="p">)((((</span><span class="kt">long</span><span class="p">)</span><span class="n">id</span> <span class="o">*</span> <span class="mh">0x2717</span><span class="p">)</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">+</span> <span class="mh">0xaa</span><span class="p">)</span> <span class="o">*</span> <span class="n">lVar11</span><span class="p">)</span> <span class="o">/</span> <span class="mi">200</span><span class="p">;</span>
        <span class="n">iVar3</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">uVar4</span><span class="p">;</span>
        <span class="n">sVar13</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;</span> <span class="n">iVar3</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">sVar13</span> <span class="o">=</span> <span class="n">uVar4</span> <span class="o">*</span> <span class="mi">4</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">iVar9</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">do</span> <span class="p">{</span>
            <span class="n">pvVar5</span> <span class="o">=</span> <span class="n">memset</span><span class="p">(</span><span class="n">puVar12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sVar13</span><span class="p">);</span>
            <span class="n">lVar11</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">do</span> <span class="p">{</span>
                <span class="n">iVar10</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">uVar7</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="k">do</span> <span class="p">{</span>
                    <span class="n">lVar8</span> <span class="o">=</span> <span class="p">(</span><span class="kt">long</span><span class="p">)(((</span><span class="kt">int</span><span class="p">)</span><span class="n">lVar8</span> <span class="o">*</span> <span class="mh">0x2717</span> <span class="o">+</span> <span class="mh">0xd5</span><span class="p">)</span> <span class="o">%</span> <span class="n">iVar3</span><span class="p">);</span>
                    <span class="n">iVar6</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">uVar7</span><span class="p">;</span>
                    <span class="n">lVar1</span> <span class="o">=</span> <span class="n">uVar7</span> <span class="o">*</span> <span class="mi">4</span><span class="p">;</span>
                    <span class="n">uVar7</span> <span class="o">=</span> <span class="n">uVar7</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                    <span class="n">iVar10</span> <span class="o">=</span> <span class="n">iVar10</span> <span class="o">+</span> <span class="o">*</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)(</span><span class="n">puVar14</span> <span class="o">+</span> <span class="n">lVar1</span><span class="p">)</span> <span class="o">*</span>
                                      <span class="o">*</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)(</span><span class="n">bi</span> <span class="o">+</span> <span class="p">(</span><span class="n">lVar8</span> <span class="o">*</span> <span class="mh">0x1392</span> <span class="o">+</span> <span class="p">(</span><span class="kt">long</span><span class="p">)</span><span class="n">iVar6</span><span class="p">)</span> <span class="o">*</span> <span class="mi">4</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">uVar7</span> <span class="o">!=</span> <span class="p">(</span><span class="n">uVar4</span> <span class="o">&amp;</span> <span class="mh">0xffffffff</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">);</span>
                <span class="o">*</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)((</span><span class="kt">long</span><span class="p">)</span><span class="n">pvVar5</span> <span class="o">+</span> <span class="n">lVar11</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="n">iVar10</span><span class="p">;</span>
                <span class="n">lVar11</span> <span class="o">=</span> <span class="n">lVar11</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">lVar11</span> <span class="o">&lt;</span> <span class="n">iVar3</span><span class="p">);</span>
            <span class="n">iVar9</span> <span class="o">=</span> <span class="n">iVar9</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">puVar12</span> <span class="o">=</span> <span class="p">(</span><span class="n">undefined1</span> <span class="o">*</span><span class="p">)((</span><span class="kt">long</span><span class="p">)</span><span class="n">pvVar5</span> <span class="o">+</span> <span class="mh">0x4e48</span><span class="p">);</span>
            <span class="n">puVar14</span> <span class="o">=</span> <span class="n">puVar14</span> <span class="o">+</span> <span class="mh">0x4e48</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">iVar9</span> <span class="o">&lt;</span> <span class="n">iVar3</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">lVar11</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">!=</span> <span class="n">slowRank</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">lVar11</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">puVar14</span> <span class="o">=</span> <span class="n">cd</span><span class="p">;</span>
    <span class="n">puVar12</span> <span class="o">=</span> <span class="n">ad</span><span class="p">;</span>
    <span class="n">uVar4</span> <span class="o">=</span> <span class="p">(</span><span class="n">ulong</span><span class="p">)((((</span><span class="kt">long</span><span class="p">)</span><span class="n">id</span> <span class="o">*</span> <span class="mh">0x2717</span><span class="p">)</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">+</span> <span class="mh">0xaa</span><span class="p">)</span> <span class="o">*</span> <span class="n">lVar11</span><span class="p">)</span> <span class="o">/</span> <span class="mi">200</span><span class="p">;</span>
    <span class="n">iVar3</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">uVar4</span><span class="p">;</span>
    <span class="n">sVar13</span> <span class="o">=</span> <span class="n">uVar4</span> <span class="o">*</span> <span class="mi">8</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">iVar3</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">sVar13</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">iVar9</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">do</span> <span class="p">{</span>
        <span class="n">pvVar5</span> <span class="o">=</span> <span class="n">memset</span><span class="p">(</span><span class="n">puVar14</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sVar13</span><span class="p">);</span>
        <span class="n">puVar14</span> <span class="o">=</span> <span class="n">bd</span><span class="p">;</span>
        <span class="n">lVar11</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">do</span> <span class="p">{</span>
            <span class="n">lVar8</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="n">dVar15</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
            <span class="k">do</span> <span class="p">{</span>
                <span class="n">lVar2</span> <span class="o">=</span> <span class="n">lVar8</span> <span class="o">*</span> <span class="mi">8</span><span class="p">;</span>
                <span class="n">lVar1</span> <span class="o">=</span> <span class="n">lVar8</span> <span class="o">*</span> <span class="mi">8</span><span class="p">;</span>
                <span class="n">lVar8</span> <span class="o">=</span> <span class="n">lVar8</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                <span class="n">dVar15</span> <span class="o">=</span> <span class="n">dVar15</span> <span class="o">+</span> <span class="o">*</span><span class="p">(</span><span class="kt">double</span> <span class="o">*</span><span class="p">)(</span><span class="n">puVar12</span> <span class="o">+</span> <span class="n">lVar2</span><span class="p">)</span> <span class="o">*</span> <span class="o">*</span><span class="p">(</span><span class="kt">double</span> <span class="o">*</span><span class="p">)(</span><span class="n">puVar14</span> <span class="o">+</span> <span class="n">lVar1</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">lVar8</span> <span class="o">&lt;</span> <span class="n">iVar3</span><span class="p">);</span>
            <span class="o">*</span><span class="p">(</span><span class="kt">double</span> <span class="o">*</span><span class="p">)((</span><span class="kt">long</span><span class="p">)</span><span class="n">pvVar5</span> <span class="o">+</span> <span class="n">lVar11</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span> <span class="o">=</span> <span class="n">dVar15</span><span class="p">;</span>
            <span class="n">lVar11</span> <span class="o">=</span> <span class="n">lVar11</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">puVar14</span> <span class="o">=</span> <span class="n">puVar14</span> <span class="o">+</span> <span class="mh">0x9c90</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">lVar11</span> <span class="o">&lt;</span> <span class="n">iVar3</span><span class="p">);</span>
        <span class="n">iVar9</span> <span class="o">=</span> <span class="n">iVar9</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">puVar14</span> <span class="o">=</span> <span class="p">(</span><span class="n">undefined1</span> <span class="o">*</span><span class="p">)((</span><span class="kt">long</span><span class="p">)</span><span class="n">pvVar5</span> <span class="o">+</span> <span class="mh">0x9c90</span><span class="p">);</span>
        <span class="n">puVar12</span> <span class="o">=</span> <span class="n">puVar12</span> <span class="o">+</span> <span class="mh">0x9c90</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">iVar9</span> <span class="o">&lt;</span> <span class="n">iVar3</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="使用grok3大模型进行整理"><span class="mr-2">使用Grok3大模型进行整理</span><a href="#使用grok3大模型进行整理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>把这段可读性极差的代码交给<code class="language-plaintext highlighter-rouge">Grok3</code>大模型进行整理，得到最后近似版的源代码，真相终于浮出水面。</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;mpi.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstdio&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstdlib&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstring&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="c1">// 全局变量（根据反编译代码推测）</span>
<span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>          <span class="c1">// 学生 ID 或输入参数</span>
<span class="kt">int</span> <span class="n">mpiRank</span><span class="p">;</span>          <span class="c1">// 当前进程的 MPI 排名</span>
<span class="kt">int</span> <span class="n">mpiSize</span><span class="p">;</span>          <span class="c1">// MPI 进程总数</span>
<span class="kt">int</span> <span class="n">slowRank</span><span class="p">;</span>         <span class="c1">// 慢速进程的排名</span>
<span class="kt">int</span> <span class="n">workloadType</span><span class="p">;</span>     <span class="c1">// 工作负载类型（0 或 1）</span>
<span class="kt">int</span><span class="o">*</span> <span class="n">ai</span><span class="p">;</span>              <span class="c1">// 输入数组（整数）</span>
<span class="kt">int</span><span class="o">*</span> <span class="n">bi</span><span class="p">;</span>              <span class="c1">// 输入数组（整数）</span>
<span class="kt">int</span><span class="o">*</span> <span class="n">ci</span><span class="p">;</span>              <span class="c1">// 输出数组（整数）</span>
<span class="kt">double</span><span class="o">*</span> <span class="n">ad</span><span class="p">;</span>           <span class="c1">// 输入数组（浮点数）</span>
<span class="kt">double</span><span class="o">*</span> <span class="n">bd</span><span class="p">;</span>           <span class="c1">// 输入数组（浮点数）</span>
<span class="kt">double</span><span class="o">*</span> <span class="n">cd</span><span class="p">;</span>           <span class="c1">// 输出数组（浮点数）</span>


<span class="c1">// 工作负载函数</span>
<span class="kt">void</span> <span class="nf">lipsum</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">workloadType</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 整数运算工作负载</span>
        <span class="kt">int</span> <span class="n">iterations</span> <span class="o">=</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">==</span> <span class="n">slowRank</span><span class="p">)</span> <span class="o">?</span> <span class="mi">6000</span> <span class="o">:</span> <span class="mi">3000</span><span class="p">;</span> <span class="c1">// 慢速进程迭代更多</span>
        <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(((</span><span class="n">id</span> <span class="o">*</span> <span class="mh">0x2717</span><span class="p">)</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">+</span> <span class="mh">0xAA</span><span class="p">)</span> <span class="o">*</span> <span class="n">iterations</span><span class="p">)</span> <span class="o">/</span> <span class="mi">200</span><span class="p">;</span> <span class="c1">// 计算数组大小</span>
        <span class="kt">size_t</span> <span class="n">bufferSize</span> <span class="o">=</span> <span class="p">(</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="n">size</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">:</span> <span class="mi">4</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>

        <span class="kt">int</span><span class="o">*</span> <span class="n">output</span> <span class="o">=</span> <span class="n">ci</span><span class="p">;</span> <span class="c1">// 输出缓冲区</span>
        <span class="kt">int</span><span class="o">*</span> <span class="n">inputA</span> <span class="o">=</span> <span class="n">ai</span><span class="p">;</span> <span class="c1">// 输入缓冲区 A</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">memset</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">bufferSize</span><span class="p">);</span> <span class="c1">// 清零输出缓冲区</span>
            <span class="kt">long</span> <span class="n">seed</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">// 初始种子</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">size</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">seed</span> <span class="o">=</span> <span class="p">((</span><span class="n">seed</span> <span class="o">*</span> <span class="mh">0x2717</span> <span class="o">+</span> <span class="mh">0xD5</span><span class="p">)</span> <span class="o">%</span> <span class="n">size</span><span class="p">);</span> <span class="c1">// 更新种子</span>
                    <span class="n">sum</span> <span class="o">+=</span> <span class="n">inputA</span><span class="p">[</span><span class="n">k</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)]</span> <span class="o">*</span> <span class="n">bi</span><span class="p">[(</span><span class="n">seed</span> <span class="o">*</span> <span class="mh">0x1392</span> <span class="o">+</span> <span class="n">k</span><span class="p">)</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)];</span>
                <span class="p">}</span>
                <span class="n">output</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">output</span> <span class="o">+=</span> <span class="mh">0x4E48</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span> <span class="c1">// 移动到下一块缓冲区</span>
            <span class="n">inputA</span> <span class="o">+=</span> <span class="mh">0x4E48</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// 浮点运算工作负载</span>
        <span class="kt">int</span> <span class="n">iterations</span> <span class="o">=</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">==</span> <span class="n">slowRank</span><span class="p">)</span> <span class="o">?</span> <span class="mi">2000</span> <span class="o">:</span> <span class="mi">1000</span><span class="p">;</span> <span class="c1">// 慢速进程迭代更多</span>
        <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(((</span><span class="n">id</span> <span class="o">*</span> <span class="mh">0x2717</span><span class="p">)</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">+</span> <span class="mh">0xAA</span><span class="p">)</span> <span class="o">*</span> <span class="n">iterations</span><span class="p">)</span> <span class="o">/</span> <span class="mi">200</span><span class="p">;</span> <span class="c1">// 计算数组大小</span>
        <span class="kt">size_t</span> <span class="n">bufferSize</span> <span class="o">=</span> <span class="p">(</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="n">size</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">double</span><span class="p">)</span> <span class="o">:</span> <span class="mi">8</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">double</span><span class="p">);</span>

        <span class="kt">double</span><span class="o">*</span> <span class="n">output</span> <span class="o">=</span> <span class="n">cd</span><span class="p">;</span> <span class="c1">// 输出缓冲区</span>
        <span class="kt">double</span><span class="o">*</span> <span class="n">inputA</span> <span class="o">=</span> <span class="n">ad</span><span class="p">;</span> <span class="c1">// 输入缓冲区 A</span>
        <span class="kt">double</span><span class="o">*</span> <span class="n">inputB</span> <span class="o">=</span> <span class="n">bd</span><span class="p">;</span> <span class="c1">// 输入缓冲区 B</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">memset</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">bufferSize</span><span class="p">);</span> <span class="c1">// 清零输出缓冲区</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">double</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">sum</span> <span class="o">+=</span> <span class="n">inputA</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">*</span> <span class="n">inputB</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
                <span class="p">}</span>
                <span class="n">output</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum</span><span class="p">;</span>
                <span class="n">inputB</span> <span class="o">+=</span> <span class="mh">0x9C90</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">double</span><span class="p">);</span> <span class="c1">// 移动到下一块缓冲区</span>
            <span class="p">}</span>
            <span class="n">output</span> <span class="o">+=</span> <span class="mh">0x9C90</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">double</span><span class="p">);</span> <span class="c1">// 移动到下一块缓冲区</span>
            <span class="n">inputA</span> <span class="o">+=</span> <span class="mh">0x9C90</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">double</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
    <span class="c1">// 初始化 MPI</span>
    <span class="n">MPI_Init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">argv</span><span class="p">);</span>
    <span class="n">MPI_Comm_size</span><span class="p">(</span><span class="n">MPI_COMM_WORLD</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">mpiSize</span><span class="p">);</span> <span class="c1">// 获取进程总数</span>
    <span class="n">MPI_Comm_rank</span><span class="p">(</span><span class="n">MPI_COMM_WORLD</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">mpiRank</span><span class="p">);</span> <span class="c1">// 获取当前进程排名</span>

    <span class="c1">// 检查是否使用 8 个 MPI 进程</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">mpiSize</span> <span class="o">!=</span> <span class="mi">8</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"Please run with %d MPI processes</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">MPI_Finalize</span><span class="p">();</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// 检查命令行参数</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">id</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span> <span class="c1">// 解析学生 ID</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">id</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// 计算 slowRank 和 workloadType</span>
            <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">seed1</span> <span class="o">=</span> <span class="n">id</span><span class="p">;</span>
            <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">seed2</span> <span class="o">=</span> <span class="n">id</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">seed1</span> <span class="o">=</span> <span class="n">seed1</span> <span class="o">*</span> <span class="mh">0x2717</span> <span class="o">+</span> <span class="mi">7</span><span class="p">;</span> <span class="c1">// 更新种子 1</span>
                <span class="n">seed2</span> <span class="o">=</span> <span class="p">(</span><span class="n">seed2</span> <span class="o">*</span> <span class="mh">0x2717</span> <span class="o">+</span> <span class="mi">9</span><span class="p">)</span> <span class="o">^</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 更新种子 2</span>
                <span class="n">seed1</span> <span class="o">=</span> <span class="n">seed1</span> <span class="o">%</span> <span class="mh">0x3B9ACA07</span><span class="p">;</span> <span class="c1">// 模运算</span>
                <span class="n">seed2</span> <span class="o">=</span> <span class="n">seed2</span> <span class="o">%</span> <span class="mh">0x3B9ACA07</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">slowRank</span> <span class="o">=</span> <span class="n">seed1</span> <span class="o">&amp;</span> <span class="mi">7</span><span class="p">;</span> <span class="c1">// 确定慢速进程</span>
            <span class="n">workloadType</span> <span class="o">=</span> <span class="n">seed2</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 确定工作负载类型（0 或 1）</span>

            <span class="c1">// 执行工作负载</span>
            <span class="n">init</span><span class="p">();</span>
            <span class="n">MPI_Barrier</span><span class="p">(</span><span class="n">MPI_COMM_WORLD</span><span class="p">);</span> <span class="c1">// 同步</span>
            <span class="n">lipsum</span><span class="p">();</span>
            <span class="n">MPI_Barrier</span><span class="p">(</span><span class="n">MPI_COMM_WORLD</span><span class="p">);</span> <span class="c1">// 同步</span>
            <span class="n">MPI_Finalize</span><span class="p">();</span>

            <span class="c1">// 主进程输出结果</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Success "</span> <span class="o">&lt;&lt;</span> <span class="n">id</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// 参数错误处理</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"Usage: %s &lt;Student ID&gt;</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="n">MPI_Finalize</span><span class="p">();</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>可以发现依赖于输入参数的全局变量有两个分别是<code class="language-plaintext highlighter-rouge">slowRank</code> 和 <code class="language-plaintext highlighter-rouge">workloadType</code>，<code class="language-plaintext highlighter-rouge">lipsum()</code>函数会根据这两个参数来执行不同的逻辑，前者决定八个进程中哪个进程设置为慢速进程，后者决定工作负载种类是整数运算还是浮点运算，具体截取如下。</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;mpi.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstdio&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstdlib&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstring&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="c1">//...</span>
<span class="kt">int</span> <span class="n">slowRank</span><span class="p">;</span>         <span class="c1">// 慢速进程的排名</span>
<span class="kt">int</span> <span class="n">workloadType</span><span class="p">;</span>     <span class="c1">// 工作负载类型（0 或 1）</span>


<span class="c1">// 工作负载函数</span>
<span class="kt">void</span> <span class="nf">lipsum</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">workloadType</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 整数运算工作负载</span>
        <span class="kt">int</span> <span class="n">iterations</span> <span class="o">=</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">==</span> <span class="n">slowRank</span><span class="p">)</span> <span class="o">?</span> <span class="mi">6000</span> <span class="o">:</span> <span class="mi">3000</span><span class="p">;</span> <span class="c1">// 慢速进程迭代更多</span>
		<span class="c1">//...</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// 浮点运算工作负载</span>
        <span class="kt">int</span> <span class="n">iterations</span> <span class="o">=</span> <span class="p">(</span><span class="n">mpiRank</span> <span class="o">==</span> <span class="n">slowRank</span><span class="p">)</span> <span class="o">?</span> <span class="mi">2000</span> <span class="o">:</span> <span class="mi">1000</span><span class="p">;</span> <span class="c1">// 慢速进程迭代更多</span>
        <span class="c1">//...</span>
    <span class="p">}</span>
<span class="err">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
	<span class="c1">//...</span>
    <span class="c1">// 检查命令行参数</span>
    <span class="c1">//...</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span> <span class="c1">// 解析学生 ID</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">id</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 计算 slowRank 和 workloadType</span>
        <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">seed1</span> <span class="o">=</span> <span class="n">id</span><span class="p">;</span>
        <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">seed2</span> <span class="o">=</span> <span class="n">id</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">seed1</span> <span class="o">=</span> <span class="n">seed1</span> <span class="o">*</span> <span class="mh">0x2717</span> <span class="o">+</span> <span class="mi">7</span><span class="p">;</span> <span class="c1">// 更新种子 1</span>
            <span class="n">seed2</span> <span class="o">=</span> <span class="p">(</span><span class="n">seed2</span> <span class="o">*</span> <span class="mh">0x2717</span> <span class="o">+</span> <span class="mi">9</span><span class="p">)</span> <span class="o">^</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 更新种子 2</span>
            <span class="n">seed1</span> <span class="o">=</span> <span class="n">seed1</span> <span class="o">%</span> <span class="mh">0x3B9ACA07</span><span class="p">;</span> <span class="c1">// 模运算</span>
            <span class="n">seed2</span> <span class="o">=</span> <span class="n">seed2</span> <span class="o">%</span> <span class="mh">0x3B9ACA07</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">slowRank</span> <span class="o">=</span> <span class="n">seed1</span> <span class="o">&amp;</span> <span class="mi">7</span><span class="p">;</span> <span class="c1">// 确定慢速进程</span>
        <span class="n">workloadType</span> <span class="o">=</span> <span class="n">seed2</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 确定工作负载类型（0 或 1）</span>

     <span class="c1">//...</span>
    <span class="p">}</span>
    <span class="c1">//...</span>
    <span class="c1">// 参数错误处理</span>
	<span class="c1">//...</span>
<span class="p">}</span>
</pre></table></code></div></div><p>将十六进制转化为十进制，我们可以看到真正的逻辑如下。</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>    <span class="c1">// 参数为同学学号</span>
	<span class="n">val1</span> <span class="o">=</span> <span class="n">studentId</span><span class="p">;</span>
    <span class="n">val2</span> <span class="o">=</span> <span class="n">studentId</span><span class="p">;</span>
    
    <span class="c1">// Perform the calculations</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">val1</span> <span class="o">=</span> <span class="p">(</span><span class="n">val1</span> <span class="o">*</span> <span class="mi">10007</span> <span class="o">+</span> <span class="mi">7</span><span class="p">)</span> <span class="o">%</span> <span class="mi">1000000007</span><span class="p">;</span>
        <span class="n">val2</span> <span class="o">=</span> <span class="p">(</span><span class="n">val2</span> <span class="o">*</span> <span class="mi">10007</span> <span class="o">+</span> <span class="mi">9</span><span class="p">)</span> <span class="o">%</span> <span class="mi">1000000007</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">// Calculate task allocation parameters</span>
    <span class="n">slowRank</span> <span class="o">=</span> <span class="n">val1</span> <span class="o">%</span> <span class="mi">8</span><span class="p">;</span>
    <span class="n">workloadType</span> <span class="o">=</span> <span class="n">val2</span> <span class="o">%</span> <span class="mi">2</span><span class="p">;</span>
</pre></table></code></div></div><h2 id="总结"><span class="mr-2">总结</span><a href="#总结" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>一次有趣的逆向工程之旅就这样结束了，我们可以给逆向工程（<code class="language-plaintext highlighter-rouge">Reverse Engineering</code>）下一个定义：在不依赖原始设计文档或源代码的情况下，分析一个已有系统、程序、设备或对象的结构、功能和行为，推导出其设计原理、实现细节、内部工作机制或源代码的过程。</p><p>附上一些大佬对逆向工程的评价作为结束语。</p><ol><li><p><strong>Linus Torvalds（Linux 内核创始人）</strong></p><p>“如果你能通过逆向工程理解一个系统，你就有了重现或改进它的自由。这正是开源精神的延伸。”</p><li><p><strong>Bruce Schneier（密码学与安全专家）</strong></p><p>“逆向工程是安全研究的基石。没有它，我们无法真正理解系统的弱点，也无法构建更强的防御。”</p><li><p><strong>Ken Thompson（UNIX 创始人之一）</strong></p><p>“要真正理解一个程序必须能够追溯其每一行代码。逆向工程让我们看到隐藏在二进制背后的真相。”</p><li><p><strong>John Carmack（游戏开发者，id Software 创始人）</strong></p><p>“逆向工程不是偷窃，它是学习。当你拆解一个系统，你会发现它的美与瑕疵。”</p><li><p><strong>Ellen Ullman（程序员，作家）</strong></p><p>“逆向工程就像考古，挖掘代码的每一层，试图还原设计者的意图。”</p></ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/vincent-s-technical-reports/'>Vincent's Technical Reports</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/reverse-engineering/" class="post-tag no-text-decoration" >Reverse Engineering</a> <a href="/tags/llm/" class="post-tag no-text-decoration" >LLM</a> <a href="/tags/decompiler/" class="post-tag no-text-decoration" >Decompiler</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=A%20Try%20on%20Reverse%20Engineering%20%7C%20Vincent's%20Technical%20Reports%20(Vol.%201)%20-%20%E5%AE%8B%E5%BB%BA%E6%98%8A&url=https%3A%2F%2Fvincent-sjh.github.io%2Fhomepage%2Findex.html%2Fposts%2FReverse_Engineering%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=A%20Try%20on%20Reverse%20Engineering%20%7C%20Vincent's%20Technical%20Reports%20(Vol.%201)%20-%20%E5%AE%8B%E5%BB%BA%E6%98%8A&u=https%3A%2F%2Fvincent-sjh.github.io%2Fhomepage%2Findex.html%2Fposts%2FReverse_Engineering%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fvincent-sjh.github.io%2Fhomepage%2Findex.html%2Fposts%2FReverse_Engineering%2F&text=A%20Try%20on%20Reverse%20Engineering%20%7C%20Vincent's%20Technical%20Reports%20(Vol.%201)%20-%20%E5%AE%8B%E5%BB%BA%E6%98%8A" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/AI-IDE/">Productivity Tool Recommendations | Workflow Wizards (Vol. 1)</a><li><a href="/posts/Web-Page/">How can we see a web page? | Vincent's Technical Reports (Vol. 5)</a><li><a href="/posts/RSA-SSH/">RSA & SSH | Vincent's Technical Reports (Vol. 3)</a><li><a href="/posts/AI-Detector-Humanizer/">AI Detector & Humanizer | Vincent's Technical Reports (Vol. 4)</a><li><a href="/posts/Reverse_Engineering/">A Try on Reverse Engineering | Vincent's Technical Reports (Vol. 1)</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/llm/">LLM</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/ai/">AI</a> <a class="post-tag" href="/tags/decompiler/">Decompiler</a> <a class="post-tag" href="/tags/detector/">Detector</a> <a class="post-tag" href="/tags/hello-world/">Hello World</a> <a class="post-tag" href="/tags/humanizer/">Humanizer</a> <a class="post-tag" href="/tags/number-theory/">Number Theory</a> <a class="post-tag" href="/tags/ocaml/">Ocaml</a> <a class="post-tag" href="/tags/programming-language/">Programming Language</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/AI-Detector-Humanizer/"><div class="card-body"> <em class="small" data-ts="1754929800" data-df="YYYY/MM/DD" > 2025/08/11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AI Detector & Humanizer | Vincent's Technical Reports (Vol. 4)</h3><div class="text-muted small"><p> AI Detector V.S. Humanizer 简介 人工智能时代，人们越来越多地使用AI工具完成任务，当AI生成的内容越来越多时，AI检测工具和AI降重工具便应运而生。本次实验希望粗略地测试当前AI检查工具和AI降重工具的效果，选取了当前8个AI降重工具和3个AI检测工具，首先使用当前5款主流大模型生成风格和主题不同的英文文本，比较AI降重后的AI重复率，有趣的是，我还额外从新闻...</p></div></div></a></div><div class="card"> <a href="/posts/Ocaml-1/"><div class="card-body"> <em class="small" data-ts="1751560200" data-df="YYYY/MM/DD" > 2025/07/03 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Ocaml(1) | Vincent's Technical Reports (Vol. 2)</h3><div class="text-muted small"><p> Ocaml编程语言初探 简介 OCaml (Objective Caml)是一种功能强大、兼具函数式、命令式和面向对象编程特性的通用编程语言。它由 INRIA(法国国家信息与自动化研究所)开发，最初设计于 1980 年代，是 Caml (Categorical Abstract Machine Language)语言的扩展版本，而 Caml 是 ML(Meta Language)语言家族...</p></div></div></a></div><div class="card"> <a href="/posts/RSA-SSH/"><div class="card-body"> <em class="small" data-ts="1753547400" data-df="YYYY/MM/DD" > 2025/07/26 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>RSA & SSH | Vincent's Technical Reports (Vol. 3)</h3><div class="text-muted small"><p> RSA and SSH RSA加密算法详解 简介 RSA加密算法是1977年由Ron Rivest、Adi Shamir和Leonard Adleman共同提出的一种非对称加密算法，算法名称取自三位发明者姓氏的首字母。RSA是目前应用最广泛的公钥密码体制，广泛用于数字签名、密钥交换和数据加密等领域。 非对称加密是指加密者与解密者使用的是不同的密钥，反之对称加密是指加密者和解密者使用相同的...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Hello-world/" class="btn btn-outline-primary" prompt="上一篇"><p>Hello World!</p></a> <a href="/posts/Ocaml-1/" class="btn btn-outline-primary" prompt="下一篇"><p>Ocaml(1) | Vincent's Technical Reports (Vol. 2)</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/llm/">LLM</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/ai/">AI</a> <a class="post-tag" href="/tags/decompiler/">Decompiler</a> <a class="post-tag" href="/tags/detector/">Detector</a> <a class="post-tag" href="/tags/hello-world/">Hello World</a> <a class="post-tag" href="/tags/humanizer/">Humanizer</a> <a class="post-tag" href="/tags/number-theory/">Number Theory</a> <a class="post-tag" href="/tags/ocaml/">Ocaml</a> <a class="post-tag" href="/tags/programming-language/">Programming Language</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/si57311">Vincent</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0">本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> (function () { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE ? "dark" : "default"); let config = {theme: expectedTheme}; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function () { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Create mermaid tag */ $("pre").has("code.language-mermaid").each(function () { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<pre class=\"mermaid\">${svgCode}</pre>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); })(); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
